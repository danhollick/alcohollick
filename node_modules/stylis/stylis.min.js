!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(global);else if("function"==typeof define&&define.amd)define(e(window));else window.stylis=e(window)}(function(e){"use strict";function i(e,h,g,d,u){e+="";var p,b,A,C,m="",x="",v=e.charCodeAt(0);if(91===v){if(A=e.substring(1,e.length-1).split("="),p=(x=A[1]).charCodeAt(0),34===p||39===p)x=x.substring(1,x.length-1);m="["+A[0]+'="'+x+'"]'}else if(35===v||46===v||62===v)x=(m=e).substring(1);else x=m=e;if(v=0,void 0==g||true===g)g=true,C=x;else C="",g=false;var k,w=null!=u,O=l.length;if(true===w)if(k=(typeof u).charCodeAt(0),111===k)t(u);else if(102===k)l[O++]=u;else w=false;if(0!==O)u=1===O?l[0]:function(e,i,t,r,f,s){for(var n=i,a=0,o=l.length;a<o;a++)n=l[a](e,n,t,r,f,s)||n;if(n!==i)return n},w=true;var y,$,j,z,N,E,F,R,q,B,D,G,H,I,J,K,L,M,P="",Q="",S="",T=0,U=0,V=0,W=0,X=0,Y=0,Z=0,_=0,ee=0,ie=0,te=0,le=0,re=0,fe=0,se=0;if(true===w){if(E=u(0,h,ce,oe,m,0),null!=E)h=E;K=""}for(var ne=0,ae=0,oe=0,ce=1,he=h.length,ge="";ne<he;){if(T=h.charCodeAt(ne),0===_&&0===Y&&0===re&&(123===T||125===T||59===T||ne===he-1&&0!==P.length)){if(P+=h.charAt(ne),true===w&&125!==T){if(123===T)E=u(1,P.substring(0,P.length-1).trim(),ce,oe,m,ge.length);else E=u(2,P,ce,oe,m,ge.length);if(null!=E)P=123===T?E+" {":E}if(q=P.charCodeAt(0),32===q)q=(P=P.trim()).charCodeAt(0);if(B=P.charCodeAt(1),D=P.charCodeAt(2),64===q){if(1===te&&0!==S.length){if(te=0,S=m+" {"+S+"}",true===w)if(E=u(4,S,ce,oe,m,ge.length),null!=E)S=E;ge+=S,S=""}if(59!==T)if(107===B)H=P.substring(1,11)+C+P.substring(11),P="@"+c+H,v=1;else if(109===B&&101===D||103===B)if(0!==ae){if(ne++,oe++,void 0===N)N="";for(E="",$="",j=F.split(f),W=1;ne<he;){if(p=h.charCodeAt(ne),123===p)W++;else if(125===p)W--;if(0===W)break;$+=h.charAt(ne++),oe=13===p||10===p?(ce++,0):oe+1}O=j.length;for(var de=0;de<O;de++)e=j[de],E+=i((de===O-1?e.substring(0,e.length-1):e).trim(),$,g,d,u);N+=P+E+"}",P="",Z=1,v=4}else v=2,J=P,P="";else v=6;if(4!==v&&59!==T&&105!==B){if(107!==B&&109!==B&&103!==B)v=5;V=-1,U++}}else{if(123===T){if(ae++,1===te&&0!==S.length){if(te=0,S=m+" {"+S+"}",true===w)if(E=u(4,S,ce,oe,m,ge.length),null!=E)S=E;ge+=S,S=""}if(2===ae){ne++,oe++,$="";var ue=P.substring(0,P.length-1).split(f),pe=F.substring(0,F.length-1).split(f);for(W=1;ne<he;){if(p=h.charCodeAt(ne),123===p)W++;else if(125===p)W--;if(0===W)break;$+=h.charAt(ne++),oe=13===p||10===p?(ce++,0):oe+1}O=pe.length;for(var be=0;be<O;be++){E=pe[be],R=E.indexOf(m),pe[be]="";for(var Ae=0,Ce=ue.length;Ae<Ce;Ae++){if(R>0)e=":global(%)"+E.trim();else e=E.replace(m,"&").trim();if(G=ue[Ae].trim(),G.indexOf(" &")>0)e=G.replace("&","").trim()+" "+e;else if(null!==s.exec(G))e=G;else e=e+" "+G;pe[be]+=e.replace(/ +&/,"").trim()+(Ae===Ce-1?"":",")}}if(void 0===I)I="";I+="\n"+pe.join(",").replace(n," $1")+" {"+$+"}",X=1,P="",ae--}else if(0===U||2===v){j=P.split(f),z="",F="",O=j.length;for(var be=0;be<O;be++){if(p=(e=j[be]).charCodeAt(0),32===p)p=(e=e.trim()).charCodeAt(0);if(38===p)e=m+e.substring(1).replace(r,m);else{if(e.indexOf("::place")!==-1)ie=1;if((R=e.indexOf(" &"))>0)e=e.replace(r,m).trim();else if(58===p)if(M=e.charCodeAt(1),true===d&&104===M&&116===e.charCodeAt(4))if(M=e.charCodeAt(5),40===M)e=m+e.replace(/:host\((.*)\)/g,"$1").replace(r,m);else if(45===M)e=e.replace(/:host-context\((.*)\)/g,"$1 "+m).replace(r,m);else e=m+e.substring(5);else if(103===M&&(true===d||37===(M=e.charCodeAt(8))))ee=1,e=e.replace(s,"$1").replace(r,m).trim();else e=m+e;else if(0===ee)e=m+" "+e}if(true===w)if(E=u(1.5,be===O-1?e.substring(0,e.length-1).trim():e,ce,oe,m,ge.length),null!=E)e=be===O-1?E+" {":E;F+=(0!==be?",\f":"")+(1!==ee?e:":global(%)"+e),z+=0!==be?","+e:e,ee=0}P=z}else F=P}else if(false==(125===T&&1===P.length)){if(59!==T)P=(125===T?P.substring(0,P.length-1):P.trim())+";";if(97===q&&110===B&&105===D){if(P=P.substring(0,P.length-1),y=P.indexOf(":")+1,z=P.substring(0,y),true===g&&45!==P.charCodeAt(9)){var me=P.substring(y).trim().split(",");O=me.length;for(var be=0;be<O;be++){for(var xe=me[be],ve=xe.split(" "),Ae=0,Ce=ve.length;Ae<Ce;Ae++){var ke=ve[Ae].trim(),we=ke.charCodeAt(0),Oe=ke.charCodeAt(2),ye=ke.length,$e=ke.charCodeAt(ye-1);if((we>64&&we<90||we>96&&we<122||45===we||95===we&&95!==ke.charCodeAt(1))&&41!==$e&&0!==ye&&!(105===we&&(102===Oe&&101===$e&&8===ye||105===Oe&&108===$e&&7===ye||104===Oe&&116===$e&&7===ye))&&!(117===we&&115===Oe&&116===$e&&5===ye)&&!(108===we&&110===Oe&&114===$e&&6===ye)&&!(97===we&&116===Oe&&101===$e&&(9===ye||17===ye))&&!(110===we&&114===Oe&&108===$e&&6===ye)&&!(98===we&&99===Oe&&115===$e&&9===ye)&&!(102===we&&114===Oe&&115===$e&&8===ye)&&!(98===we&&116===Oe&&104===$e&&4===ye)&&!(110===we&&110===Oe&&101===$e&&4===ye)&&!(114===we&&110===Oe&&103===$e&&7===ye)&&!(112===we&&117===Oe&&100===$e&&6===ye)&&!(114===we&&118===Oe&&100===$e&&8===ye)&&!(115===we&&101===Oe&&(116===$e&&10===ye||100===$e&&8===ye))&&!(101===we&&115===Oe&&(101===$e&&4===ye||(11===ye||7===ye||8===ye)&&45===ke.charCodeAt(4)))&&isNaN(parseFloat(ke))&&ke.indexOf("(")===-1)ve[Ae]=C+ke}z+=(0===be?"":",")+ve.join(" ").trim()}}else z+=(110!==P.charCodeAt(10)?"":C)+P.substring(y).trim().trim();P=c+z+";"+z+(125===T?";}":";")}else if(97===q&&112===B&&112===D)P=c+P+a+P+P;else if(100===q&&105===B&&115===D){if((R=P.indexOf("flex"))!==-1)E=101===P.charCodeAt(R-2)?"inline-":"",P=P.indexOf(" !important")!==-1?" !important":"",P="display: "+c+E+"box"+P+";display: "+c+E+"flex"+P+";display: "+o+"flexbox"+P+";display: "+E+"flex"+P+";"}else if(116===q&&114===B&&97===D)P=c+P+(102===P.charCodeAt(5)?o+P:"")+P;else if(104===q&&121===B&&112===D||117===q&&115===B&&101===D)P=c+P+a+P+o+P+P;else if(102===q&&108===B&&101===D)P=c+P+o+P+P;else if(111===q&&114===B&&100===D)P=c+P+o+"flex-"+P+P;else if(97===q&&108===B&&105===D&&45===P.charCodeAt(5))switch(P.charCodeAt(6)){case 105:E=P.replace("-items",""),P=c+P+c+"box-"+E+o+"flex-"+E+P;break;case 115:P=o+"flex-item-"+P.replace("-self","")+P;break;default:P=o+"flex-line-pack"+P.replace("align-content","")+P}else if(106===q&&117===B&&115===D)y=P.indexOf(":"),E=P.substring(y).replace("flex-",""),P=c+"box-pack"+E+c+P+o+"flex-pack"+E+P;else if(99===q&&117===B&&114===D&&null!==/zoo|gra/.exec(P))P=P.replace(/: +/g,": "+c)+P.replace(/: +/g,": "+a)+P;else if(119===q&&105===B&&100===D&&(R=P.indexOf("-content"))!==-1)E=P.substring(R-3),P="width: "+c+E+"width: "+a+E+"width: "+E;if(59!==T)if(P=P.substring(0,P.length-1),125===T)P+="}"}if(125===T){if(0!==ae)ae--;if(0===ae&&1===X)h=h.substring(0,ne+1)+I+h.substring(ne+1),he+=I.length,I="",X=0,V++;if(125!==q&&32===P.charCodeAt(P.length-2))P=P.substring(0,P.length-1).trim()+"}"}if(0!==U){if(125===T)V++;else if(123===T&&0!==V)V--;if(1===le&&(123===T||0===V)&&0!==S.length)le=0,P=m+" {"+S+"}"+P,S="";if(0===V){if(1===v)P="}@"+H+"}",H="";v=0,V--,U--}else if(1===v)H+=P;else if(2===v&&0===ae){if(125!==T){if(0===le)S="";S+=P,P=""}le=1}}else if(0===ae&&125!==T)te=1,S=void 0===S?P:S+P,P=""}if(Q+=P,125===T&&(0===v||2===v||4===v)){if(p=Q.charCodeAt(Q.length-2),4===v)v=0;if(void 0!==N&&0!==N.length)Q=123===p?N:Q+N,N="",p=Q.charCodeAt(Q.length-2);if(123!==p){if(true===w)if(E=u(3,Q,ce,oe,m,ge.length),null!=E)Q=E;if(1===ie)L=/::place/g,ie=0,E="input-place",Q=Q.replace(L,"::"+c+E)+Q.replace(L,"::"+a+"place")+Q.replace(L,":"+o+E)+Q;if(void 0!==J){if(J+=Q,125===J.charCodeAt(J.length-2))ge+=J,J=void 0}else ge+=Q}Q=""}P=""}else if(13===T||10===T){if(1===se)re=se=0,P=P.substring(0,P.indexOf("//")).trim();else if(true===w&&0===re&&0!==(O=(K=K.trim()).length)&&47!==K.charCodeAt(0)){if(0!==P.length)if(E=u(7,K,ce,oe,m,ge.length),null!=E)P=P.replace(new RegExp(K+"$"),E).trim();K=""}oe=0,ce++}else{if(9!==T){if(b=h.charAt(ne),true===w&&0===re)K+=b;switch(P+=b,T){case 44:if(0===_&&0===re&&0===Y)P+="\f";break;case 34:if(0===re)_=34===_?0:39===_?39:34;break;case 39:if(0===re)_=39===_?0:34===_?34:39;break;case 40:if(0===_&&0===re)Y=1;break;case 41:if(0===_&&0===re)Y=0;break;case 47:if(0===_&&0===Y)if(p=h.charCodeAt(ne-1),0===fe&&47===p)re=se=1;else if(42===p)re=fe=0,P=P.substring(0,P.indexOf("/*")).trim();break;case 42:if(0===_&&0===Y&&0===se&&0===fe)if(47===h.charCodeAt(ne-1))re=fe=1}}oe++}ne++}if(void 0!==S&&0!==S.length){if(S=m+" {"+S+"}",true===w)if(E=u(4,S,ce,oe,m,ge.length),null!=E)S=E;ge+=S}if(true===w)if(E=u(6,ge,ce,oe,m,ge.length),null!=E)ge=E;return ge}function t(e){var t=l.length;if(null!=e)if(e.constructor===Array)for(var r=0,f=e.length;r<f;r++)l[t++]=e[r];else l[t]=e;return i}var l=[],r=/&/g,f=/,\f/g,s=/:global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,n=/(?:&| ):global\(%?((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,a="-moz-",o="-ms-",c="-webkit-";return i.use=t,i.p=l,i.r={a:r,s:f,g:s,n:n},i});